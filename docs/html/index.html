
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Cryptnox Python Communication Library &#8212; CryptnoxPy  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="cryptnox-python-communication-library">
<h1>Cryptnox Python Communication Library<a class="headerlink" href="#cryptnox-python-communication-library" title="Permalink to this headline">¶</a></h1>
<a class="reference external image-reference" href="https://pypi.org/project/cryptnoxpy"><img alt="https://img.shields.io/pypi/v/cryptnoxpy" src="https://img.shields.io/pypi/v/cryptnoxpy" /></a>
<a class="reference external image-reference" href="https://cryptnoxpy.readthedocs.io/en/latest/?badge=latest"><img alt="Documentation Status" src="https://readthedocs.org/projects/cryptnoxpy/badge/?version=latest" /></a>
<p><strong>Warning: This is a beta release of the software.
It is released for development purposes.
Use at your own risk.</strong></p>
<p>A Python3 library to use the <a class="reference external" href="https://www.cryptnox.com/">Cryptnox smartcard applet</a>.
It provides high level functions to send instructions with the Cryptnox and to manage its lifecycle.
The core module is <em>CryptnoxPy</em> which provides a <em>Connection</em> class to
establish a channel of communication that can be used to initialize a card instance through the
factory method.</p>
<p>To buy NFC enabled cards that are supported by this library go to:
<a class="reference external" href="https://www.cryptnox.com/">https://www.cryptnox.com/</a></p>
<section id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>The library is available under dual licensing. You can use the library under the
conditions of <a class="reference external" href="https://www.gnu.org/licenses/lgpl-3.0.en.html">GNU LESSER GENERAL PUBLIC LICENSE 3.0+</a>
or <a class="reference external" href="mailto:info&#37;&#52;&#48;cryptnox&#46;ch">contact us</a> to ask about commercial licensing.</p>
</section>
<section id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>API documentation can be found in HTML format in the <a class="reference external" href="docs/html/index.html">docs folder</a>
It is generated using Sphynx from the code and can be generated in other formats too.</p>
</section>
<section id="installation-and-requirements">
<h2>Installation and requirements<a class="headerlink" href="#installation-and-requirements" title="Permalink to this headline">¶</a></h2>
<p>Requires :</p>
<ul class="simple">
<li><p>Python 3.6-3.9</p></li>
<li><p>PCSCd on Linux</p></li>
</ul>
<p>Ubuntu / Debian</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>sudo<span class="o">)</span> apt-get install python3-pip python3-setuptools pcscd
</pre></div>
</div>
<p>Fedora / CentOS / RHEL</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>yum install python3-pip python3-setuptools pcsc-lite-ccid
</pre></div>
</div>
<p>On some Linux, starts PCSCd service</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">(</span>sudo<span class="o">)</span> systemctl start pcscd
<span class="o">(</span>sudo<span class="o">)</span> systemctl <span class="nb">enable</span> pcscd
</pre></div>
</div>
<section id="installation-of-this-library">
<h3>Installation of this library<a class="headerlink" href="#installation-of-this-library" title="Permalink to this headline">¶</a></h3>
<p>Make sure that you installed the required packages for your system.
See the “Requires” section above.</p>
<p>Install with pip:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install cryptnoxpy
</pre></div>
</div>
<p>Install from source:</p>
<p>Download and run in its directory:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install .
</pre></div>
</div>
<p>or:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install git+ssh://git@github.com/Cryptnox-Software/cryptnoxpy.git
</pre></div>
</div>
<p>This might require <em>sudo</em> on some systems.</p>
<p>Remove:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip uninstall cryptnoxpy
</pre></div>
</div>
</section>
<section id="installation-issues">
<h3>Installation issues<a class="headerlink" href="#installation-issues" title="Permalink to this headline">¶</a></h3>
<p>If the <strong>Linux system doesn't have Python 3.6, 3.7, 3.8 nor 3.9</strong>, install
Python 3.7 with the following recipe (Debian like):</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo apt-get install -y make build-essential libssl-dev zlib1g-dev swig libpcsclite-dev
sudo apt-get install -y libbz2-dev libreadline-dev libsqlite3-dev wget curl llvm git
sudo apt-get install -y libncurses5-dev libncursesw5-dev xz-utils tk-dev pcscd opensc
wget https://www.python.org/ftp/python/3.7.8/Python-3.7.8.tgz
tar xf Python-3.7.8.tgz
<span class="nb">cd</span> Python-3.7.8
./configure --enable-optimizations
make -j8 build_all
sudo make -j8 altinstall

sudo pip3.7 install git+ssh://git@gitlab.com/cryptnox-phase2/cryptnoxpy.git

<span class="c1"># or (if issue about agent forwarding with sudo) :</span>

<span class="nb">cd</span> ~
git clone git@gitlab.com:cryptnox-phase2/cryptnoxpy.git
<span class="nb">cd</span> cryptnoxpy
sudo pip3.7 install .
</pre></div>
</div>
<p>In case of <strong>pyscard can't be installed</strong> automatically with pip:</p>
<blockquote>
<div><ol class="arabic simple">
<li><p>Try to pip3 install with sudo or root: <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">.</span></code></p></li>
<li><p>If still a failure, install the following packages: Needed if pyscard can't be installed from package manager <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt</span> <span class="pre">install</span> <span class="pre">python3-dev</span> <span class="pre">swig</span> <span class="pre">libpcsclite-dev</span></code> then retry <code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">pip</span> <span class="pre">install</span> <span class="pre">.</span></code>.</p></li>
</ol>
</div></blockquote>
<p>If you use <strong>contactless readers</strong> on Linux, the RFID modules need to be disabled :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo rmmod pn533_usb
sudo rmmod pn533
sudo rm -r /lib/modules/*/kernel/drivers/nfc/pn533
</pre></div>
</div>
</section>
<section id="update-issues">
<h3>Update issues<a class="headerlink" href="#update-issues" title="Permalink to this headline">¶</a></h3>
<p>In case you just want to update the package, with old pip version on some Linux, it is better to remove and reinstall the package:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>sudo pip uninstall cryptnoxpy
sudo pip install .
</pre></div>
</div>
</section>
</section>
<section id="library-use">
<h2>Library use<a class="headerlink" href="#library-use" title="Permalink to this headline">¶</a></h2>
<p>To get the card a connection has to be established with the reader’s index. The connection can
then be passed to the factory that will initialize an object for the card in the reader from the
correct class for the card type and version.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">cryptnoxpy</span>

<span class="k">try</span><span class="p">:</span>
    <span class="n">connection</span> <span class="o">=</span> <span class="n">cryptnoxpy</span><span class="o">.</span><span class="n">Connection</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="k">except</span> <span class="n">cryptnoxpy</span><span class="o">.</span><span class="n">ReaderException</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Reader not found on index&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">card</span> <span class="o">=</span> <span class="n">cryptnoxpy</span><span class="o">.</span><span class="n">factory</span><span class="o">.</span><span class="n">get_card</span><span class="p">(</span><span class="n">connection</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">cryptnoxpy</span><span class="o">.</span><span class="n">CryptnoxException</span> <span class="k">as</span> <span class="n">error</span><span class="p">:</span>
        <span class="c1"># There is an issue with loading the card</span>
        <span class="c1"># CryptnoxException is the base exception class for module</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">error</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Card is loaded and can be used</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Card serial number: </span><span class="si">{</span><span class="n">card</span><span class="o">.</span><span class="n">serial_number</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>The factory will:</p>
<ul class="simple">
<li><p>connect to the card</p></li>
<li><p>select the applet</p></li>
<li><p>read the applet parameters</p></li>
<li><p>select class to handle the card</p></li>
</ul>
<p>The card contains basic information:</p>
<ul class="simple">
<li><p>card.serial_number : Integer : Card/applet instance Unique ID</p></li>
<li><p>card.applet_version : 3 integers list : Applet version (ex. 1.2.2)</p></li>
</ul>
<section id="initialization-and-pairing">
<h3>Initialization and pairing<a class="headerlink" href="#initialization-and-pairing" title="Permalink to this headline">¶</a></h3>
<p>Right after the installation, the applet is not initialized, and the user needs
to send some parameters to use the card. The initialization can be executed once.
Any change of the base parameters requires a full applet reinstallation
(except PIN/PUK change).</p>
<p>After the initialization, the card and the PC must share a common secret to be
used as authenticated secure channel. This secret is required any time further,
to communicate with the card (using a secure channel). The registration of this
common secret is done during the init phase.</p>
<p>The init parameters required are :</p>
<ul class="simple">
<li><p>Name  (up to 20 chars string)</p></li>
<li><p>Email (up to 60 chars string)</p></li>
<li><p>PIN (9 digits string)</p></li>
<li><p>PUK (15 digits string)</p></li>
<li><p>optional : the first Paring Secret (32 bytes bytearray)</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pairing_key</span> <span class="o">=</span> <span class="n">card</span><span class="o">.</span><span class="n">init</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">email</span><span class="p">,</span> <span class="n">pin</span><span class="p">,</span> <span class="n">puk</span><span class="p">,</span> <span class="n">pairing_secret</span><span class="p">)</span>
</pre></div>
</div>
<p>The returned data is the first PairingKey (32 bytes byte-array) and its index (0) :
<code class="docutils literal notranslate"><span class="pre">0x00</span> <span class="pre">+</span> <span class="pre">ParingKeySlot0</span></code></p>
<p>During the initialization phase, until the user public key for authentication
registration is allowed, the set_pairing_key command is also allowed.
Then set_pairing_key needs the applet to have the signature unlocked.</p>
<p>After getting the pairing_key, the user needs to store it in a safe place.
In the case the client would communicate with several cards, the user needs to
associate the pairing_key with the instance serial number of the card, so that the user
client can keep track of multiple cards, and use the right one with the right
card. The pairing_key must be saved in a file to reconnect the next time to this
card. It should be saved with the serial number of card in order to associate this card with this
key.</p>
<p>A common hardcoded PairingKey can be used.</p>
<p>After this init phase, the secure channel must be used with all communications
with the card. A secure channel is an encrypted and 2-ways authenticated link
layer with the card using standards APDU messages. Many applet commands require
a secure channel.</p>
</section>
<section id="pin">
<h3>PIN<a class="headerlink" href="#pin" title="Permalink to this headline">¶</a></h3>
<p>The PIN chosen during the initialization needs to be provided after each card
reset, and a secure channel is opened.</p>
<p>To test a PIN string, simply use:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">card</span><span class="o">.</span><span class="n">verify_pin</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="seed-administration">
<h3>Seed administration<a class="headerlink" href="#seed-administration" title="Permalink to this headline">¶</a></h3>
<p>The applet manages a 256 bits master secret called the “seed”. This is the BIP32
Master Seed, and can be externally computed from a mnemonic to a binary seed
using BIP39. The key pairs used for ECDSA are then computationally derived from
this seed using BIP32 derivation scheme.</p>
<section id="seed-generation">
<h4>Seed generation<a class="headerlink" href="#seed-generation" title="Permalink to this headline">¶</a></h4>
<p>The seed can be generated in the card using the random number generator in the
java chip system (AIS 20 class DRG.3). Doing this way, the seed secret never
escapes the card protection.</p>
<p>The method to generate a new seed key is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">card</span><span class="o">.</span><span class="n">generate_seed</span><span class="p">(</span><span class="n">pin</span><span class="p">)</span>
</pre></div>
</div>
<p>The card can also randomly generate BIP39 mnemonics words list. But in this
case, the query answer is only output and not used internally by the card.
It is administrator responsibility to get a mnemonic using the GENERATE MNEMONIC
command and then eventually compute the corresponding seed, which can be
uploaded in the card using RECOVER KEY command.
We don’t recommend doing so, this is very insecure, as the seed is exposed in
clear and full in the user’s system.</p>
</section>
<section id="recovery">
<h4>Recovery<a class="headerlink" href="#recovery" title="Permalink to this headline">¶</a></h4>
<p>The Cryptnox applet can load binary seed.</p>
<p>The seed is loaded in the card using this method:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">card</span><span class="o">.</span><span class="n">load_seed</span><span class="p">(</span><span class="n">seed</span><span class="p">,</span> <span class="n">pin</span><span class="p">)</span>
</pre></div>
</div>
<p>Seed is 32 bytes.</p>
<p>Once this seed is loaded in the card using the load_seed method, this card now
behaves like were (or the one) it was backup. Be aware that key derivation
paths are not backup, and must be identical to retrieve the same key pairs.
See derivation and key system just below for more details.</p>
<p>For more details about the recovery, see load_seed operation in the API documentation.</p>
</section>
</section>
<section id="derivation-and-keys-system">
<h3>Derivation and keys system<a class="headerlink" href="#derivation-and-keys-system" title="Permalink to this headline">¶</a></h3>
<p>The card applet is fully compliant with
<a class="reference external" href="https://github.com/bitcoin/bips/blob/master/bip-0032.mediawiki">BIP32</a>,
except the maximum depth of derivation from the master key is 8 levels.
It can be turned on for the card to return extended public keys for use in applications
requiring it.</p>
<p>The card stores the present key pair (and its parent), used for signature.
This can be changed using the derive method, and also during a signature
command, giving a relative path (from the present key pair), or in an absolute path
(from the master key pair). See derive method in the API documentation.</p>
<p>Any derivation aborts any opened signing sessions and resets the authentications
for signature. The generated key is used for all subsequent sign sessions.</p>
<p>The ability to start derivation from the parent keys allows to more efficiently
switch between children of the same key. Note however that only the immediate
parent of the current key is cached so one cannot use this to go back in the
keys hierarchy.</p>
<p>For ease of use, the user can derive from the root master node key pair
(absolute path) at each card startup, or even before each signature.
This takes a couple of seconds. So this is better to store intermediate public
keys hash and check the status to observe the current key pair in use.
This off-card complex key management is not needed if the signatures volume
is below one thousand per day.</p>
<p>See derive and sign methods in the API documentation.</p>
</section>
<section id="ec-signature">
<h3>EC Signature<a class="headerlink" href="#ec-signature" title="Permalink to this headline">¶</a></h3>
<p>The derivation of the key pair node can be also possible using the signature
command (relative or absolute).</p>
<p>The card applet can sign any 256 bits hash provided, using ECDSA with 256k1 EC
parameters. Most of the blockchain system used SHA2-256 to hash the message,
but this card applet is agnostic from this point, since the signature is performed on
a hash provided by the user. Note that this hash needs to be confirmed by the
users beforehand, when they provide their EC384 signature of this hash.</p>
<p>The code to sign with the EC current key node is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">signature</span> <span class="o">=</span> <span class="n">card</span><span class="o">.</span><span class="n">sign</span><span class="p">(</span><span class="n">data_hash</span><span class="p">,</span> <span class="n">cryptnoxpy</span><span class="o">.</span><span class="n">Derivation</span><span class="o">.</span><span class="n">CURRENT_KEY</span><span class="p">)</span>
</pre></div>
</div>
<p>data_hash is a byte-array containing the EC hash to sign using ECDSA ecp256k1:</p>
<p>The signature a byte array, encoded as an ASN1 DER sequence of two INTEGER values, r and s.</p>
<p>See the sign method in the API documentation for more information.</p>
</section>
</section>
<section id="card">
<h2>Card<a class="headerlink" href="#card" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cryptnoxpy.card.base.</span></span><span class="sig-name descname"><span class="pre">Base</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">connection</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="#cryptnoxpy.connection.Connection" title="cryptnoxpy.connection.Connection"><span class="pre">cryptnoxpy.connection.Connection</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">serial</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">applet_version</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cryptnoxpy.card.base.Base" title="Permalink to this definition">¶</a></dt>
<dd><p>Object that contains information about the card that is in the reader.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>connection</strong> (<a class="reference internal" href="#cryptnoxpy.connection.Connection" title="cryptnoxpy.connection.Connection"><em>Connection</em></a>) – Connection to use for card initialization</p></li>
<li><p><strong>debug</strong> (<em>bool</em>) – Show debug information to the user.</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>applet_version</strong> (<em>List</em><em>[</em><em>int</em><em>]</em>) – Version of the applet on the card.</p></li>
<li><p><strong>serial_number</strong> (<em>int</em>) – Serial number of card.</p></li>
<li><p><strong>session_public_key</strong> (<em>str</em>) – Public key of the session.</p></li>
<li><p><strong>initialized</strong> (<em>bool</em>) – The card has been initialized with secrets.</p></li>
</ul>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.CardTypeException" title="cryptnoxpy.exceptions.CardTypeException"><strong>CardTypeException</strong></a> – The card in the reader is not a Cryptnox card</p>
</dd>
</dl>
<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.alive">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">alive</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.alive" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The connection to the card is established and the card hasn’t been changed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.change_pairing_key">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">change_pairing_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairing_key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">puk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.change_pairing_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the pairing key of the card</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – Index of the pairing key</p></li>
<li><p><strong>pairing_key</strong> (<em>bytes</em>) – Pairing key to set for the card</p></li>
<li><p><strong>puk</strong> (<em>str</em>) – PUK code of the card</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – input data is not valid</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.SecureChannelException" title="cryptnoxpy.exceptions.SecureChannelException"><strong>SecureChannelException</strong></a> – operation not allowed</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.PukException" title="cryptnoxpy.exceptions.PukException"><strong>PukException</strong></a> – PUK code is not valid</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.change_pin">
<span class="sig-name descname"><span class="pre">change_pin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_pin</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.change_pin" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the current pin code of the card to a new pin code.</p>
<p>The method will set the given pin code as the pin code of the card.
For it to work the card first must be opened with the current pin code.</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>PIN code or challenge-response validated</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>new_pin</strong> (<em>str</em>) – The desired PIN code to be set for the card
(4-9 digits).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.change_puk">
<span class="sig-name descname"><span class="pre">change_puk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_puk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_puk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.change_puk" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the current pin code of the card to a new pin code.</p>
<p>The method will set the given pin code as the pin code of the card.
For it to work the card first must be opened with the current pin code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>current_puk</strong> (<em>str</em>) – The current PUK code of the card</p></li>
<li><p><strong>new_puk</strong> (<em>str</em>) – The desired PUK code to be set for the card</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.check_init">
<span class="sig-name descname"><span class="pre">check_init</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.check_init" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the initialization has been done on the card.</p>
<p>It can be useful to check if the card is initialized before doing
anything else, like asking for pin code from the user.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.InitializationException" title="cryptnoxpy.exceptions.InitializationException"><strong>InitializationException</strong></a> – The card is not initialized</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.derive">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">derive</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key_type</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.KeyType" title="cryptnoxpy.enums.KeyType"><span class="pre">cryptnoxpy.enums.KeyType</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">KeyType.K1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cryptnoxpy.card.base.Base.derive" title="Permalink to this definition">¶</a></dt>
<dd><p>Derive key on path and make it the current key in the card</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>PIN code or challenge-response validated</p></li>
<li><p>Seed must exist</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>key_type</strong> (<a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.KeyType" title="cryptnoxpy.enums.KeyType"><em>KeyType</em></a>) – Key type to do derive on</p></li>
<li><p><strong>path</strong> (<em>str</em>) – Path on which to do derivation</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.dual_seed_load">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">dual_seed_load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.dual_seed_load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load public key and signature from the other card into the card to generate same seed.</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>PIN code or challenge-response validated</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>pin</strong> (<em>str</em>) – PIN code of card if it was opened with a PIN check</p></li>
<li><p><strong>data</strong> (<em>bytes</em>) – Public key and signature of public key from the other card</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.dual_seed_public_key">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">dual_seed_public_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.dual_seed_public_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the public key from the card for dual initialization of the cards</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>PIN code or challenge-response validated</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>pin</strong> (<em>str</em>) – PIN code of card if it was opened with a PIN check</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Public key and signature that can be sent into the other card</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bytes</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataException" title="cryptnoxpy.exceptions.DataException"><strong>DataException</strong></a> – The received data is invalid</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.extended_public_key">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">extended_public_key</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.extended_public_key" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Extended public key turned on</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.generate_random_number">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">generate_random_number</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.generate_random_number" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate random number on the car and return it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>size</strong> (<em>int</em>) – Output data size in bytes (between 16 and 64, mod 4)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Random number generated by the chip</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bytes</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – size in not a number between 16 and 64 or is not
divisible by 4</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.generate_seed">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">generate_seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.generate_seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a seed directly on the card.</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>PIN code or challenge-response validated</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>pin</strong> (<em>str</em><em>, </em><em>optional</em>) – PIN code of the card. Can be empty if card is opened with
challenge-response validation</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Primary node “m” UID (hash of public key)</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bytes</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.KeyGenerationException" title="cryptnoxpy.exceptions.KeyGenerationException"><strong>KeyGenerationException</strong></a> – There was an issue with generating the key</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.KeyAlreadyGenerated" title="cryptnoxpy.exceptions.KeyAlreadyGenerated"><strong>KeyAlreadyGenerated</strong></a> – The card already has a seed generated</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.get_public_key">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">get_public_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">derivation</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.Derivation" title="cryptnoxpy.enums.Derivation"><span class="pre">cryptnoxpy.enums.Derivation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_type</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.KeyType" title="cryptnoxpy.enums.KeyType"><span class="pre">cryptnoxpy.enums.KeyType</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">KeyType.K1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compressed</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.get_public_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the public key from the card.</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>PIN code or challenge-response validated, except for PIN-less path</p></li>
<li><p>Seed must exist</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>derivation</strong> (<a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.Derivation" title="cryptnoxpy.enums.Derivation"><em>Derivation</em></a>) – Derivation to use.</p></li>
<li><p><strong>key_type</strong> (<a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.KeyType" title="cryptnoxpy.enums.KeyType"><em>KeyType</em></a>) – Key type to use</p></li>
<li><p><strong>path</strong> (<em>str</em>) – </p></li>
<li><p><strong>compressed</strong> (<em>bool</em>) – The returned value is in compressed format.</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The public key for the given path in hexadecimal string format</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DerivationSelectionException" title="cryptnoxpy.exceptions.DerivationSelectionException"><strong>DerivationSelectionException</strong></a> – Card is not initialized with seed</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.ReadPublicKeyException" title="cryptnoxpy.exceptions.ReadPublicKeyException"><strong>ReadPublicKeyException</strong></a> – Invalid data received from card</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.history">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">NamedTuple</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.history" title="Permalink to this definition">¶</a></dt>
<dd><p>Get history of hashes the card has signed regardless of any
parameters given to sign</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>PIN code or challenge-response validated</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>index</strong> (<em>int</em>) – Index of entry in history</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Return entry containing signing_counter, representing index of sign call, and
hashed_data, the data that was signed</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>NamedTuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.info">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">info</span></span><em class="property"><span class="pre">:</span> <span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get relevant information about the card.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Dictionary containing information for the card</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>Dict[str, Any]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.init">
<span class="sig-name descname"><span class="pre">init</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">puk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pairing_secret</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">b'Cryptnox</span> <span class="pre">Basic</span> <span class="pre">CommonPairingData'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nfc_sign</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.init" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize the Cryptnox card.</p>
<p>Initialize the Cryptnox card with the owners name and email address.
Set the PIN and PUK codes for authenticating with the card to be able
to use it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>name</strong> (<em>str</em>) – Name of the card owner</p></li>
<li><p><strong>email</strong> (<em>str</em>) – Email of the card owner</p></li>
<li><p><strong>pin</strong> (<em>str</em>) – PIN code that will be used to open the card</p></li>
<li><p><strong>puk</strong> (<em>str</em>) – PUK code that will be used to open the card</p></li>
<li><p><strong>pairing_secret</strong> (<em>bytes</em>) – Pairing secret to use with the card</p></li>
<li><p><strong>nfc_sign</strong> (<em>bool</em>) – Signature command can be used over NFC, only available on certain type</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Pairing secret</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bytes</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.InitializationException" title="cryptnoxpy.exceptions.InitializationException"><strong>InitializationException</strong></a> – There was an issue with initialization</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.initialized">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">initialized</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.initialized" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether the card is initialized</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.load_seed">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">load_seed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seed</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.load_seed" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the given seed into the Cryptnox card.</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>PIN code or challenge-response validated</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>seed</strong> (<em>bytes</em>) – Seed to initialize the card with</p></li>
<li><p><strong>pin</strong> (<em>str</em><em>, </em><em>optional</em>) – PIN code of the card. Can be empty if card is opened with
challenge-response validation</p></li>
</ul>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.KeyGenerationException" title="cryptnoxpy.exceptions.KeyGenerationException"><strong>KeyGenerationException</strong></a> – Data is not correct</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.open">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">open</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.open" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether the user has authenticated using the PIN code or
challenge-response validation</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.origin">
<em class="property"><span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">origin</span></span><em class="property"><span class="pre">:</span> <a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.Origin" title="cryptnoxpy.enums.Origin"><span class="pre">cryptnoxpy.enums.Origin</span></a></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.origin" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Return if the card is original Cryptnox card, fake or there’s an
issue getting the information</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.Origin" title="cryptnoxpy.enums.Origin">Origin</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.pin_authentication">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">pin_authentication</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.pin_authentication" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether the PIN code can be used for authentication</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.pinless_enabled">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">pinless_enabled</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.pinless_enabled" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Return whether the card has a pinless path</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.puk_rule">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">puk_rule</span></span><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.puk_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Human readable PUK code rule</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Human readable PUK code rule</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.reset">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">puk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the card and return it to factory settings.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>puk</strong> – PUK code associated with the card</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.seed_source">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">seed_source</span></span><em class="property"><span class="pre">:</span> <a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SeedSource" title="cryptnoxpy.enums.SeedSource"><span class="pre">cryptnoxpy.enums.SeedSource</span></a></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.seed_source" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>How the seed was generated</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SeedSource" title="cryptnoxpy.enums.SeedSource">SeedSource</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.select_apdu">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">select_apdu</span></span><em class="property"><span class="pre">:</span> <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.select_apdu" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Value to add to select command to select the applet on the card</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>List[int]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.set_extended_public_key">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">set_extended_public_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">puk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.set_extended_public_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn on/off extended public key output.</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>Seed must be loaded</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>status</strong> (<em>bool</em>) – Status of PIN authentication</p></li>
<li><p><strong>puk</strong> (<em>str</em>) – PUK code associated with the card</p></li>
</ul>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – input data is not valid</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.PukException" title="cryptnoxpy.exceptions.PukException"><strong>PukException</strong></a> – PUK code is not valid</p></li>
<li><p><strong>KeyException</strong> – Seed not found</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.set_pin_authentication">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">set_pin_authentication</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">puk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.set_pin_authentication" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn on/off authentication with the PIN code. Other methods can still be used.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>status</strong> (<em>bool</em>) – Status of PIN authentication</p></li>
<li><p><strong>puk</strong> (<em>str</em>) – PUK code associated with the card</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – input data is not valid</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.PukException" title="cryptnoxpy.exceptions.PukException"><strong>PukException</strong></a> – PUK code is not valid</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.set_pinless_path">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">set_pinless_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">puk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.set_pinless_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Enable working with the card without a PIN on path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – Path to be available without a PIN code</p></li>
<li><p><strong>puk</strong> (<em>str</em>) – PUK code of the card</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – input data is not valid</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.PukException" title="cryptnoxpy.exceptions.PukException"><strong>PukException</strong></a> – PUK code is not valid</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.sign">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">sign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">derivation</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.Derivation" title="cryptnoxpy.enums.Derivation"><span class="pre">cryptnoxpy.enums.Derivation</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">key_type</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.KeyType" title="cryptnoxpy.enums.KeyType"><span class="pre">cryptnoxpy.enums.KeyType</span></a></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">KeyType.K1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_eos</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.sign" title="Permalink to this definition">¶</a></dt>
<dd><p>Sign the message using given derivation.</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>PIN code provided, authenticate with user key by signing same message
or PIN-less path used</p></li>
<li><p>Seed must be loaded</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>data</strong> (<em>bytes</em>) – Data to sign</p></li>
<li><p><strong>derivation</strong> (<a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.Derivation" title="cryptnoxpy.enums.Derivation"><em>Derivation</em></a>) – Derivation to use.</p></li>
<li><p><strong>key_type</strong> (<a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.KeyType" title="cryptnoxpy.enums.KeyType"><em>KeyType</em></a><em>, </em><em>optional</em>) – Key type to use. Defaults to K1</p></li>
<li><p><strong>path</strong> (<em>str</em><em>, </em><em>optional</em>) – Path of the key. If empty use main key</p></li>
<li><p><strong>pin</strong> (<em>str</em><em>, </em><em>optional</em>) – PIN code of the card</p></li>
<li><p><strong>filter_eos</strong> (<em>str</em><em>, </em><em>optional</em>) – Filter signature so it is valid for EOS network,
might take longer. Defaults to False</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The signature generated by the card in DER common format.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bytes</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataException" title="cryptnoxpy.exceptions.DataException"><strong>DataException</strong></a> – Invalid data received during signature</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.signature_check">
<span class="sig-name descname"><span class="pre">signature_check</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nonce</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="autoapi/cryptnoxpy/card/base/index.html#cryptnoxpy.card.base.SignatureCheckResult" title="cryptnoxpy.card.base.SignatureCheckResult"><span class="pre">cryptnoxpy.card.base.SignatureCheckResult</span></a></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.signature_check" title="Permalink to this definition">¶</a></dt>
<dd><p>Sign random 32 bytes for validation that private key of public key is on the card.</p>
<p>This call doesn’t increase signature counter and doesn’t go into signature history.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>nonce</strong> (<em>bytes</em>) – random 16 bytes that will be used to sign</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Message that was signed and the signature</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>SignatureCheckResult</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – Nonce has to be 16 bytes</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.SeedException" title="cryptnoxpy.exceptions.SeedException"><strong>SeedException</strong></a> – There is no seed on the card</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataException" title="cryptnoxpy.exceptions.DataException"><strong>DataException</strong></a> – Data returned from the card is not valid</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.signing_counter">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">signing_counter</span></span><em class="property"><span class="pre">:</span> <span class="pre">int</span></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.signing_counter" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Counter of how many times the card has been used to sign</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.unblock_pin">
<span class="sig-name descname"><span class="pre">unblock_pin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">puk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_pin</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.unblock_pin" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies the user using the PUK code and sets a new PIN code on the card.</p>
<p>Method should be used when the user has forgotten this/hers PIN code.
By entering the PUK code the user verifies his/hers identity and can
set the new PIN code on the card.
Can be used only if the card is locked.</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>User PIN must be locked</p></li>
<li><p>PIN code authentication must be enabled</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>puk</strong> (<em>str</em>) – PUK code for verification of the user, before changing
the PIN code.</p></li>
<li><p><strong>new_pin</strong> (<em>str</em>) – The desired PIN code to be set for the card (4-9 digits).</p></li>
</ul>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.PukException" title="cryptnoxpy.exceptions.PukException"><strong>PukException</strong></a> – PUK code not valid</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.CardNotBlocked" title="cryptnoxpy.exceptions.CardNotBlocked"><strong>CardNotBlocked</strong></a> – Card is not blocked, operation can’t be done</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.user_key_add">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">user_key_add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slot</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SlotIndex" title="cryptnoxpy.enums.SlotIndex"><span class="pre">cryptnoxpy.enums.SlotIndex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_info</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">public_key</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">puk_code</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cred_id</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">b''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.user_key_add" title="Permalink to this definition">¶</a></dt>
<dd><p>Add user public key into the card for user authentication</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slot</strong> (<em>int</em>) – Slot to write the public key to
1 - EC256R1
2 - RSA key, 2048 bits, public exponent must be 65537
3 - FIDO key</p></li>
<li><p><strong>data_info</strong> (<em>bytes</em>) – 64 bytes of user data</p></li>
<li><p><strong>public_key</strong> (<em>bytes</em>) – Public key of the secure element to be used for authentication</p></li>
<li><p><strong>puk_code</strong> (<em>str</em>) – PUK code of the card</p></li>
<li><p><strong>cred_id</strong> (<em>bytes</em><em>, </em><em>optional</em>) – Cred id. Used for FIDO2 authentication</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – Invalid input data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.user_key_challenge_response_nonce">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">user_key_challenge_response_nonce</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.user_key_challenge_response_nonce" title="Permalink to this definition">¶</a></dt>
<dd><p>Get 32 bytes random value from the card that is used to open the card with a user key</p>
<p>Take nonce value from the card. Sign it with a third party application, like TPM.
Send the signature back into the card using
<a class="reference internal" href="#cryptnoxpy.card.base.Base.user_key_challenge_response_open" title="cryptnoxpy.card.base.Base.user_key_challenge_response_open"><code class="xref py py-func docutils literal notranslate"><span class="pre">user_key_challenge_response_open()</span></code></a></p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>32 bytes random value used as nonce</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bytes</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.user_key_challenge_response_open">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">user_key_challenge_response_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slot</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SlotIndex" title="cryptnoxpy.enums.SlotIndex"><span class="pre">cryptnoxpy.enums.SlotIndex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">signature</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.user_key_challenge_response_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Send the nonce signature to the card to open it for operations, like it was opened by a
PIN code</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slot</strong> (<a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SlotIndex" title="cryptnoxpy.enums.SlotIndex"><em>SlotIndex</em></a>) – Slot to use to open the card</p></li>
<li><p><strong>signature</strong> (<em>bytes</em>) – Signature generated by a third party like TPM.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether the challenge response authentication succeeded</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – invalid input data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.user_key_delete">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">user_key_delete</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slot</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SlotIndex" title="cryptnoxpy.enums.SlotIndex"><span class="pre">cryptnoxpy.enums.SlotIndex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">puk_code</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.user_key_delete" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the user key from slot and free up for insertion</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slot</strong> (<a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SlotIndex" title="cryptnoxpy.enums.SlotIndex"><em>SlotIndex</em></a>) – Slot to remove the key from</p></li>
<li><p><strong>puk_code</strong> (<em>str</em>) – PUK code of the card</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – Invalid input data</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.user_key_enabled">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">user_key_enabled</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slot_index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SlotIndex" title="cryptnoxpy.enums.SlotIndex"><span class="pre">cryptnoxpy.enums.SlotIndex</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.user_key_enabled" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if user key is present in given slot</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>slot_index</strong> (<a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SlotIndex" title="cryptnoxpy.enums.SlotIndex"><em>SlotIndex</em></a>) – Slot index to check for</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether the user key for slot is present</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.user_key_info">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">user_key_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slot</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SlotIndex" title="cryptnoxpy.enums.SlotIndex"><span class="pre">cryptnoxpy.enums.SlotIndex</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.user_key_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the description and public key of the user key</p>
<dl class="field-list simple">
<dt class="field-odd">Requires</dt>
<dd class="field-odd"><ul class="simple">
<li><p>PIN code or challenge-response validated</p></li>
</ul>
</dd>
<dt class="field-even">Parameters</dt>
<dd class="field-even"><p><strong>slot</strong> (<a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SlotIndex" title="cryptnoxpy.enums.SlotIndex"><em>SlotIndex</em></a>) – Index of slot for which to fetch the description</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Description and public key in slot</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>tuple[str, str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.user_key_signature_open">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">user_key_signature_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">slot</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SlotIndex" title="cryptnoxpy.enums.SlotIndex"><span class="pre">cryptnoxpy.enums.SlotIndex</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signature</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.user_key_signature_open" title="Permalink to this definition">¶</a></dt>
<dd><p>Used for opening the card to sign the given message</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>slot</strong> (<a class="reference internal" href="autoapi/cryptnoxpy/enums/index.html#cryptnoxpy.enums.SlotIndex" title="cryptnoxpy.enums.SlotIndex"><em>SlotIndex</em></a>) – Slot to use to open the card</p></li>
<li><p><strong>message</strong> (<em>bytes</em>) – Message that will be sent to sign operation</p></li>
<li><p><strong>signature</strong> (<em>bytes</em>) – Signature generated by a third party, like TPM, on the same message</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Whether the challenge response authentication succeeded</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bool</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – invalid input data</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.valid_key">
<em class="property"><span class="pre">abstract</span> <span class="pre">property</span> </em><span class="sig-name descname"><span class="pre">valid_key</span></span><em class="property"><span class="pre">:</span> <span class="pre">bool</span></em><a class="headerlink" href="#cryptnoxpy.card.base.Base.valid_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the card has a valid key</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Whether the card has a valid key.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.valid_pin">
<em class="property"><span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">valid_pin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'pin'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.valid_pin" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if provided pin is valid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pin</strong> (<em>str</em>) – The pin to check if valid</p></li>
<li><p><strong>pin_name</strong> (<em>str</em>) – Value used in DataValidationException for pin name</p></li>
</ul>
</dd>
<dt class="field-even">Return str</dt>
<dd class="field-even"><p>Provided pin in str format if valid</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – Provided pin is not valid</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.valid_puk">
<em class="property"><span class="pre">abstract</span> <span class="pre">static</span> </em><span class="sig-name descname"><span class="pre">valid_puk</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">puk</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">puk_name</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">'puk'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.valid_puk" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if provided puk is valid</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>puk</strong> (<em>str</em>) – The puk to check if valid</p></li>
<li><p><strong>puk_name</strong> (<em>str</em><em>, </em><em>optional</em>) – Value used in DataValidationException for puk name. Defaults to: puk</p></li>
</ul>
</dd>
<dt class="field-even">Return str</dt>
<dd class="field-even"><p>Provided puk in str format if valid</p>
</dd>
<dt class="field-odd">Raises</dt>
<dd class="field-odd"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – Provided puk is not valid</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.card.base.Base.verify_pin">
<em class="property"><span class="pre">abstract</span> </em><span class="sig-name descname"><span class="pre">verify_pin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pin</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="headerlink" href="#cryptnoxpy.card.base.Base.verify_pin" title="Permalink to this definition">¶</a></dt>
<dd><p>Check PIN code and open the card for operations that are protected.</p>
<p>The method is sending the PIN code to the card to open it for other
operations. If there is an issue an exception will be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pin</strong> (<em>str</em>) – PIN code to check against the card.</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.PinException" title="cryptnoxpy.exceptions.PinException"><strong>PinException</strong></a> – Invalid PIN code</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.DataValidationException" title="cryptnoxpy.exceptions.DataValidationException"><strong>DataValidationException</strong></a> – Invalid length or PIN code authentication disabled</p></li>
<li><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.SoftLock" title="cryptnoxpy.exceptions.SoftLock"><strong>SoftLock</strong></a> – The card has been locked and needs power cycling before
it can be used again</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="connection">
<h2>Connection<a class="headerlink" href="#connection" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="cryptnoxpy.connection.Connection">
<em class="property"><span class="pre">class</span> </em><span class="sig-prename descclassname"><span class="pre">cryptnoxpy.connection.</span></span><span class="sig-name descname"><span class="pre">Connection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">int</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#cryptnoxpy.connection.Connection" title="Permalink to this definition">¶</a></dt>
<dd><p>Connection to the reader.</p>
<p>Sends and receives messages from the card using the reader.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>index</strong> (<em>int</em>) – Index of the reader to initialize the connection with</p></li>
<li><p><strong>debug</strong> (<em>bool</em>) – Show debug information during requests</p></li>
</ul>
</dd>
<dt class="field-even">Variables</dt>
<dd class="field-even"><p><strong>self.card</strong> (<a class="reference internal" href="autoapi/cryptnoxpy/index.html#cryptnoxpy.Card" title="cryptnoxpy.Card"><em>Card</em></a>) – Information about the card.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.connection.Connection.send_apdu">
<span class="sig-name descname"><span class="pre">send_apdu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apdu</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">,</span> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#cryptnoxpy.connection.Connection.send_apdu" title="Permalink to this definition">¶</a></dt>
<dd><p>Send data to the card in plain format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>apdu</strong> (<em>int</em>) – list of the APDU header</p>
</dd>
<dt class="field-even">Return bytes</dt>
<dd class="field-even"><p>Result of the query that was sent to the card</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bytes</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.ConnectionException" title="cryptnoxpy.exceptions.ConnectionException"><strong>ConnectionException</strong></a> – Issue in the connection</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="cryptnoxpy.connection.Connection.send_encrypted">
<span class="sig-name descname"><span class="pre">send_encrypted</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">apdu</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bytes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receive_long</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bytes</span></span></span><a class="headerlink" href="#cryptnoxpy.connection.Connection.send_encrypted" title="Permalink to this definition">¶</a></dt>
<dd><p>Send data to the card in encrypted format</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>apdu</strong> (<em>int</em>) – list of the APDU header</p></li>
<li><p><strong>data</strong> – bytes of the data payload (in clear, will be encrypted)</p></li>
<li><p><strong>receive_long</strong> (<em>bool</em>) – </p></li>
</ul>
</dd>
<dt class="field-even">Return bytes</dt>
<dd class="field-even"><p>Result of the query that was sent to the card</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>bytes</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="autoapi/cryptnoxpy/exceptions/index.html#cryptnoxpy.exceptions.CryptnoxException" title="cryptnoxpy.exceptions.CryptnoxException"><strong>CryptnoxException</strong></a> – General exceptions</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="#">CryptnoxPy</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Cryptnox.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.2.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/index.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>